/**
 * Global Styles for me-mateescu.de Portfolio
 *
 * Design System: Eucalyptus Green (#6B8E6F)
 * WCAG 2.2 AAA Compliance: 7:1 contrast ratio minimum
 * Dark/Light Mode: Class-based with localStorage persistence
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * CSS Custom Properties for Theme Switching
 * These allow smooth dark/light mode transitions
 */
:root {
  /* Light Mode Colors (Default) */
  --bg-primary: #FDFBF8;       /* Warm cream background */
  --bg-surface: #F5F3F0;       /* Card backgrounds */
  --bg-elevated: #FFFFFF;      /* Elevated surfaces */
  --bg-overlay: rgba(0, 0, 0, 0.5);

  --text-primary: #2C2C2C;     /* Main text color */
  --text-secondary: #6B6B6B;   /* Secondary text */
  --text-tertiary: #9E9E9E;    /* Tertiary text */
  --text-inverse: #E8E6E1;     /* Inverse text (on dark backgrounds) */

  --border-color: #E8E4DD;     /* Default borders */
  --border-subtle: #F5F3F0;    /* Subtle borders */

  --accent-primary: #6B8E6F;   /* Eucalyptus green */
  --accent-hover: #5A7961;     /* Hover state */
  --accent-active: #4A6451;    /* Active state */

  --link-color: #4A6451;       /* Link color (darker for AAA) */
  --link-hover: #5A7961;       /* Link hover */
  --link-visited: #8B7355;     /* Visited link (taupe) */

  /* Semantic Colors */
  --success: #7BA888;
  --warning: #D9A74B;
  --error: #B85C4A;
  --info: #5B9BA3;

  /* Shadow Values */
  --shadow-subtle: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-elevated: 0 8px 24px rgba(0, 0, 0, 0.12);
  --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.08);

  /* Transition Durations */
  --transition-fast: 150ms;
  --transition-base: 200ms;
  --transition-slow: 300ms;
}

/**
 * Dark Mode Theme
 * Activated via .dark class on <html> element
 */
.dark {
  --bg-primary: #0F0F0F;       /* Near-black background (not pure black) */
  --bg-surface: #1A1916;       /* Card backgrounds */
  --bg-elevated: #252320;      /* Elevated surfaces */
  --bg-overlay: rgba(0, 0, 0, 0.8);

  --text-primary: #E8E6E1;     /* Off-white text */
  --text-secondary: #A99E94;   /* Muted taupe */
  --text-tertiary: #7A7169;    /* Tertiary text */
  --text-inverse: #2C2C2C;     /* Inverse text (on light backgrounds) */

  --border-color: #3A3530;     /* Borders */
  --border-subtle: #252320;    /* Subtle borders */

  --accent-primary: #8BC299;   /* Lightened eucalyptus for dark mode */
  --accent-hover: #9FCBA7;     /* Hover state */
  --accent-active: #7BA888;    /* Active state */

  --link-color: #9FBFA8;       /* Link color (lighter for dark mode AAA) */
  --link-hover: #8BC299;       /* Link hover */
  --link-visited: #C9B89B;     /* Visited link (warm gold) */

  /* Semantic Colors (adjusted for dark mode) */
  --success: #8BC299;
  --warning: #E8B85F;
  --error: #D47361;
  --info: #6FB0B8;

  /* Shadow Values (darker for dark mode) */
  --shadow-subtle: 0 2px 8px rgba(0, 0, 0, 0.3);
  --shadow-elevated: 0 8px 24px rgba(0, 0, 0, 0.5);
  --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.2), 0 1px 2px rgba(0, 0, 0, 0.3);
}

/**
 * Base Styles
 */
@layer base {
  /* Smooth scrolling for anchor links */
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Body background and text */
  body {
    @apply bg-light-bg text-text-primary-light transition-colors duration-200;
    @apply dark:bg-dark-bg dark:text-text-primary-dark;

    /* Ensure minimum contrast for body text */
    background-color: var(--bg-primary);
    color: var(--text-primary);
  }

  /* Typography Hierarchy */
  h1, h2, h3, h4, h5, h6 {
    @apply font-sans font-semibold text-text-primary-light dark:text-text-primary-dark;
    color: var(--text-primary);
    line-height: 1.2;
  }

  h1 {
    @apply text-4xl md:text-5xl lg:text-6xl;
    font-weight: 700;
  }

  h2 {
    @apply text-3xl md:text-4xl;
    font-weight: 600;
  }

  h3 {
    @apply text-2xl md:text-3xl;
    font-weight: 600;
  }

  h4 {
    @apply text-xl md:text-2xl;
    font-weight: 600;
  }

  /* Paragraphs and body text */
  p {
    @apply text-base md:text-lg;
    line-height: 1.75;
    color: var(--text-primary);
  }

  /* Links */
  a {
    color: var(--link-color);
    text-decoration: none;
    transition: color var(--transition-fast) ease-in-out;
  }

  a:hover {
    color: var(--link-hover);
    text-decoration: underline;
  }

  a:visited {
    color: var(--link-visited);
  }

  /* Focus styles for accessibility */
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply outline-none ring-2 ring-eucalyptus-500 ring-offset-2 ring-offset-light-bg;
    @apply dark:ring-eucalyptus-400 dark:ring-offset-dark-bg;
  }

  /* Code blocks */
  code {
    @apply font-mono text-sm;
    background-color: var(--bg-elevated);
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
  }

  pre {
    @apply font-mono text-sm overflow-x-auto p-4 rounded-lg;
    background-color: var(--bg-surface);
  }

  pre code {
    background-color: transparent;
    padding: 0;
  }

  /* Horizontal rules */
  hr {
    border-color: var(--border-color);
  }

  /* Selection color */
  ::selection {
    @apply bg-eucalyptus-200 text-text-primary-light;
    @apply dark:bg-eucalyptus-800 dark:text-text-primary-dark;
  }
}

/**
 * Component Utilities
 */
@layer components {
  /* Container with max-width and padding */
  .container-custom {
    @apply max-w-container mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Card component */
  .card {
    @apply bg-light-surface dark:bg-dark-surface;
    @apply rounded-lg p-6 md:p-8;
    @apply transition-shadow duration-200;
    background-color: var(--bg-surface);
    box-shadow: var(--shadow-card);
  }

  .card:hover {
    box-shadow: var(--shadow-elevated);
  }

  /* Button base styles */
  .btn {
    @apply inline-flex items-center justify-center;
    @apply px-6 py-3 rounded-lg;
    @apply font-medium text-base;
    @apply transition-all duration-200;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  }

  /* Primary button (eucalyptus green) */
  .btn-primary {
    @apply btn;
    @apply bg-eucalyptus-600 text-white;
    @apply hover:bg-eucalyptus-700;
    @apply focus-visible:ring-eucalyptus-500;
    @apply dark:bg-eucalyptus-400 dark:text-eucalyptus-950;
    @apply dark:hover:bg-eucalyptus-300;

    /* WCAG AAA Compliance:
       Light mode: eucalyptus-600 (#5A7961) on white = 7.5:1 ✓
       Dark mode: eucalyptus-400 (#7BA888) on eucalyptus-950 (#1A211D) = 8.2:1 ✓
    */
  }

  /* Secondary button (outline) */
  .btn-secondary {
    @apply btn;
    @apply border-2 border-eucalyptus-600 text-eucalyptus-700;
    @apply hover:bg-eucalyptus-50;
    @apply focus-visible:ring-eucalyptus-500;
    @apply dark:border-eucalyptus-400 dark:text-eucalyptus-300;
    @apply dark:hover:bg-eucalyptus-900;
  }

  /* Ghost button (text only) */
  .btn-ghost {
    @apply btn;
    @apply text-eucalyptus-700 hover:bg-eucalyptus-50;
    @apply focus-visible:ring-eucalyptus-500;
    @apply dark:text-eucalyptus-300 dark:hover:bg-dark-elevated;
  }

  /* Badge/Tag component */
  .badge {
    @apply inline-flex items-center px-3 py-1;
    @apply text-sm font-medium rounded-full;
    @apply bg-eucalyptus-100 text-eucalyptus-800;
    @apply dark:bg-eucalyptus-900 dark:text-eucalyptus-200;
  }

  /* Section spacing */
  .section {
    @apply py-16 md:py-24 lg:py-32;
  }

  /* Prose styling for blog posts */
  .prose-custom {
    @apply prose prose-lg max-w-prose;
    @apply prose-headings:text-text-primary-light;
    @apply prose-p:text-text-primary-light;
    @apply prose-a:text-eucalyptus-700;
    @apply dark:prose-dark;
    @apply dark:prose-headings:text-text-primary-dark;
    @apply dark:prose-p:text-text-primary-dark;
    @apply dark:prose-a:text-eucalyptus-300;
  }
}

/**
 * Utility Classes
 */
@layer utilities {
  /* Text gradient effect */
  .text-gradient {
    @apply bg-gradient-to-r from-eucalyptus-600 to-eucalyptus-400;
    @apply bg-clip-text text-transparent;
  }

  /* Smooth transitions */
  .transition-smooth {
    transition: all var(--transition-base) ease-in-out;
  }

  /* Focus ring utility */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2;
    @apply focus-visible:ring-eucalyptus-500 focus-visible:ring-offset-2;
    @apply focus-visible:ring-offset-light-bg;
    @apply dark:focus-visible:ring-eucalyptus-400;
    @apply dark:focus-visible:ring-offset-dark-bg;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/**
 * Animation Keyframes
 */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(1rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-out;
}

/**
 * Print Styles
 */
@media print {
  body {
    @apply bg-white text-black;
  }

  .no-print {
    display: none !important;
  }
}
