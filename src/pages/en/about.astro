---
/**
 * About Page
 *
 * Personal background, current focus, hobbies, and professional interests
 * Includes information about photography, technology interests, and Profit Minds project
 */

import BaseLayout from '@/layouts/BaseLayout.astro';
import Container from '@components/ui/Container.astro';
import Card from '@components/ui/Card.astro';
import Badge from '@components/ui/Badge.astro';
import Button from '@components/ui/Button.astro';
import SkillsMatrix from '@components/sections/SkillsMatrix.astro';
import { translations } from '@data/translations';
import { generatePersonSchema, generateBreadcrumbSchema } from '@utils/structuredData';
import { Image } from 'astro:assets';
import profileImage from '@/../public/images/me.webp';

const lang = 'en';
const t = translations[lang];

const title = `${t.about.title} | Mihai Adrian Mateescu`;
const description = `${t.about.intro} - ${t.about.description}`;

// Generate structured data
const personSchema = generatePersonSchema(lang);
const breadcrumbSchema = generateBreadcrumbSchema([
  { name: 'Home', url: '/en/' },
  { name: t.about.title, url: '/en/about' }
]);
const structuredData = [personSchema, breadcrumbSchema];

const hobbies = [
  {
    title: t.about.hobbies.photography.title,
    description: t.about.hobbies.photography.description,
    image: '/images/out1.webp'
  },
  {
    title: t.about.hobbies.technology.title,
    description: t.about.hobbies.technology.description,
    highlights: t.about.hobbies.technology.highlights
  },
  {
    title: t.about.hobbies.ecommerce.title,
    description: t.about.hobbies.ecommerce.description,
    logo: '/images/profit-minds-logo.webp',
    link: 'https://profitminds.myspreadshop.de'
  }
];

// Real skills based on CV, experience, and honest self-assessment
const skillCategories = [
  {
    category: t.about.skillCategories.finance.category,
    icon: 'finance',
    status: t.about.skillCategories.finance.status,
    skills: t.about.skillCategories.finance.skills.map(skill => ({ name: skill, proficiency: 'advanced' as const })),
    note: t.about.skillCategories.finance.note
  },
  {
    category: t.about.skillCategories.ecommerce.category,
    icon: 'commerce',
    status: t.about.skillCategories.ecommerce.status,
    skills: [
      { name: t.about.skillCategories.ecommerce.skills[0], proficiency: 'advanced' as const },
      { name: t.about.skillCategories.ecommerce.skills[1], proficiency: 'advanced' as const },
      { name: t.about.skillCategories.ecommerce.skills[2], proficiency: 'intermediate' as const },
      { name: t.about.skillCategories.ecommerce.skills[3], proficiency: 'advanced' as const },
      { name: t.about.skillCategories.ecommerce.skills[4], proficiency: 'advanced' as const }
    ]
  },
  {
    category: t.about.skillCategories.aiml.category,
    icon: 'brain',
    status: t.about.skillCategories.aiml.status,
    skills: t.about.skillCategories.aiml.skills.map(skill => ({ name: skill, proficiency: 'intermediate' as const })),
    note: t.about.skillCategories.aiml.note
  },
  {
    category: t.about.skillCategories.development.category,
    icon: 'code',
    status: t.about.skillCategories.development.status,
    skills: t.about.skillCategories.development.skills.map(skill => ({ name: skill, proficiency: 'intermediate' as const })),
    note: t.about.skillCategories.development.note
  },
  {
    category: t.about.skillCategories.languages.category,
    icon: 'language',
    skills: [
      { name: t.about.skillCategories.languages.skills[0], proficiency: 'expert' as const },
      { name: t.about.skillCategories.languages.skills[1], proficiency: 'expert' as const },
      { name: t.about.skillCategories.languages.skills[2], proficiency: 'advanced' as const }
    ]
  },
  {
    category: t.about.skillCategories.softSkills.category,
    icon: 'team',
    skills: [
      { name: t.about.skillCategories.softSkills.skills[0], proficiency: 'expert' as const },
      { name: t.about.skillCategories.softSkills.skills[1], proficiency: 'advanced' as const },
      { name: t.about.skillCategories.softSkills.skills[2], proficiency: 'expert' as const },
      { name: t.about.skillCategories.softSkills.skills[3], proficiency: 'expert' as const },
      { name: t.about.skillCategories.softSkills.skills[4], proficiency: 'advanced' as const }
    ]
  }
];
---

<BaseLayout title={title} description={description} lang={lang} structuredData={structuredData}>
  <Container>
    <!-- Page Header -->
    <section class="py-12 md:py-16">
      <div class="text-center max-w-3xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-bold text-text-primary-light dark:text-text-primary-dark mb-4">
          {t.about.title}
        </h1>
        <p class="text-xl text-text-secondary-light dark:text-text-secondary-dark">
          {t.about.subtitle}
        </p>
      </div>
    </section>

    <!-- Professional Identity -->
    <section class="py-12">
      <Card>
        <div class="flex flex-col md:flex-row gap-8 items-center">
          <div class="flex-shrink-0">
            <Image
              src={profileImage}
              alt="Mihai Adrian Mateescu"
              width={192}
              height={192}
              format="avif"
              quality={80}
              class="w-48 h-48 rounded-full object-contain shadow-lg bg-gray-100 dark:bg-gray-800"
              loading="eager"
              style="object-position: center;"
            />
          </div>
          <div class="flex-1">
            <h2 class="text-2xl md:text-3xl font-bold text-text-primary-light dark:text-text-primary-dark mb-4">
              {t.about.intro}
            </h2>
            <p class="text-text-secondary-light dark:text-text-secondary-dark mb-4 leading-relaxed">
              {t.about.professionalIdentityText}
            </p>
            <div class="bg-eucalyptus-100 dark:bg-eucalyptus-900 p-4 rounded-lg">
              <p class="text-eucalyptus-900 dark:text-eucalyptus-100 font-medium">
                {t.about.currentFocus}
              </p>
            </div>
          </div>
        </div>
      </Card>
    </section>

    <!-- Skills Matrix -->
    <section class="py-12">
      <h2 class="text-3xl font-bold text-text-primary-light dark:text-text-primary-dark mb-8 text-center">
        {t.about.skills}
      </h2>
      <p class="text-center text-text-secondary-light dark:text-text-secondary-dark mb-8 max-w-3xl mx-auto">
        {t.about.skillsSubtitle}
      </p>
      <SkillsMatrix 
        categories={skillCategories}
        showProficiency={true}
      />

      {/* Proficiency Legend */}
      <div class="mt-8 p-6 bg-eucalyptus-50 dark:bg-eucalyptus-900/20 rounded-lg max-w-4xl mx-auto">
        <h3 class="font-semibold text-text-primary-light dark:text-text-primary-dark mb-3">
          {t.about.proficiencyLegend.title}
        </h3>
        <ul class="space-y-2 text-sm text-text-secondary-light dark:text-text-secondary-dark">
          <li class="flex items-center gap-3">
            <Badge variant="success" size="sm">Expert</Badge>
            <span>{t.about.proficiencyLegend.expert}</span>
          </li>
          <li class="flex items-center gap-3">
            <Badge variant="info" size="sm">Advanced</Badge>
            <span>{t.about.proficiencyLegend.advanced}</span>
          </li>
          <li class="flex items-center gap-3">
            <Badge variant="warning" size="sm">Intermediate</Badge>
            <span>{t.about.proficiencyLegend.intermediate}</span>
          </li>
          <li class="flex items-center gap-3">
            <span class="text-gray-600 dark:text-gray-400 italic">Learning / Research</span>
            <span>In Entwicklung — Konzept teilweise validiert, nicht produktiv</span>
          </li>
        </ul>
      </div>
    </section>

    <!-- Hobbies & Interests -->
    <section class="py-12">
      <h2 class="text-3xl font-bold text-text-primary-light dark:text-text-primary-dark mb-8">
        Hobbies & Interessen
      </h2>

      <div class="space-y-6">
        {hobbies.map((hobby) => (
          <Card>
            <div class="flex flex-col md:flex-row gap-6">
              {/* Image or Logo */}
              {(hobby.image || hobby.logo) && (
                <div class="flex-shrink-0">
                  {hobby.image && (
                    <img
                      src={hobby.image}
                      alt={hobby.title}
                      class="w-full md:w-64 h-48 object-cover rounded-lg"
                      loading="lazy"
                    />
                  )}
                  {hobby.logo && !hobby.image && (
                    <img
                      src={hobby.logo}
                      alt={hobby.title}
                      class="w-48 h-auto rounded-lg"
                      loading="lazy"
                    />
                  )}
                </div>
              )}

              {/* Content */}
              <div class="flex-1">
                <h3 class="text-2xl font-semibold text-eucalyptus-700 dark:text-eucalyptus-300 mb-3">
                  {hobby.title}
                </h3>
                <p class="text-text-secondary-light dark:text-text-secondary-dark mb-4">
                  {hobby.description}
                </p>

                {hobby.highlights && (
                  <ul class="space-y-2 text-text-secondary-light dark:text-text-secondary-dark">
                    {hobby.highlights.map((highlight) => (
                      <li class="flex items-start">
                        <span class="text-eucalyptus-600 dark:text-eucalyptus-400 mr-2">•</span>
                        <span>{highlight}</span>
                      </li>
                    ))}
                  </ul>
                )}

                {hobby.link && (
                  <div class="mt-4">
                    <Button href={hobby.link} variant="primary" target="_blank" rel="noopener noreferrer">
                      Besuche {hobby.title.includes('Profit Minds') ? 'Profit Minds' : hobby.title}
                    </Button>
                  </div>
                )}
              </div>
            </div>
          </Card>
        ))}
      </div>
    </section>

    <!-- Back to Home Link -->
    <div class="py-8 text-center">
      <a
        href="/en/"
        class="text-eucalyptus-600 dark:text-eucalyptus-400 hover:underline inline-flex items-center gap-2"
      >
        <span>←</span>
        <span>{t.common.backToHome}</span>
      </a>
    </div>
  </Container>
</BaseLayout>
